 
{  "name":"WebOS TV",
   "manufacturer":"JAC&Ton",
   "type":"TV",
   "version":2,
   "discover":{
      "welcomeheadertext":"WebOS TV",
      "welcomedescription":"powered by meta\nby JAC459",
      "command":{
         "type":"static",
         "command":"$LocalDevices",
         "queryresult":[
            "$.[?(@.host=='LGwebOSTV.local.')]"
         ]
      }
   },
   "template":
   {
      "name":"WebOS TV",
      "manufacturer":"JAC&Ton",
      "type":"TV",
      "version":2,
      "dynamicname":"DYNAMIK_INST_START DYNAMIK JSON.parse(\"$Result\").name DYNAMIK_INST_END",
      "dynamicid":"DYNAMIK_INST_START DYNAMIK JSON.parse(\"$Result\").addresses[0] + \":\" + JSON.parse(\"$Result\").port DYNAMIK_INST_END",
      
   "variables":{
      "DeviceURI":"DYNAMIK_INST_START DYNAMIK JSON.parse(\"$Result\").addresses[0] + \":3000\" DYNAMIK_INST_END",
      "AsyncMessage":"",
      "AsyncId":0,
      "VolumePlayed": 0,
      "HandShake":"{\"type\":\"register\",\"id\":\"register_0\",\"payload\":{\"forcePairing\":false,\"pairingType\":\"PROMPT\",\"manifest\":{\"manifestVersion\":1,\"appVersion\":\"1.1\",\"signed\":{\"created\":\"20210314\",\"appId\":\"com.meta.neeo\",\"vendorId\":\"com.meta\",\"localizedAppNames\":{\"\":\"LG Remote App\",\"ko-KR\":\"리모컨 앱\",\"zxx-XX\":\"ЛГ Rэмotэ AПП\"},\"localizedVendorNames\":{\"\":\"LG Electronics\"},\"permissions\":[\"TEST_SECURE\",\"CONTROL_INPUT_TEXT\",\"CONTROL_MOUSE_AND_KEYBOARD\",\"READ_INSTALLED_APPS\",\"READ_LGE_SDX\",\"READ_NOTIFICATIONS\",\"SEARCH\",\"WRITE_SETTINGS\",\"WRITE_NOTIFICATION_ALERT\",\"CONTROL_POWER\",\"READ_CURRENT_CHANNEL\",\"READ_RUNNING_APPS\",\"READ_UPDATE_INFO\",\"UPDATE_FROM_REMOTE_APP\",\"READ_LGE_TV_INPUT_EVENTS\",\"READ_TV_CURRENT_TIME\"],\"serial\":\"2f930e2d2cfe083771f68e4fe7bb07\"},\"permissions\":[\"LAUNCH\",\"LAUNCH_WEBAPP\",\"APP_TO_APP\",\"CLOSE\",\"TEST_OPEN\",\"TEST_PROTECTED\",\"CONTROL_AUDIO\",\"CONTROL_DISPLAY\",\"CONTROL_INPUT_JOYSTICK\",\"CONTROL_INPUT_MEDIA_RECORDING\",\"CONTROL_INPUT_MEDIA_PLAYBACK\",\"CONTROL_INPUT_TV\",\"CONTROL_POWER\",\"READ_APP_STATUS\",\"READ_CURRENT_CHANNEL\",\"READ_INPUT_DEVICE_LIST\",\"READ_NETWORK_STATE\",\"READ_RUNNING_APPS\",\"READ_TV_CHANNEL_LIST\",\"WRITE_NOTIFICATION_TOAST\",\"READ_POWER_STATE\",\"READ_COUNTRY_INFO\"],\"signatures\":[{\"signatureVersion\":1,\"signature\":\"eyJhbGdvcml0aG0iOiJSU0EtU0hBMjU2Iiwia2V5SWQiOiJ0ZXN0LXNpZ25pbmctY2VydCIsInNpZ25hdHVyZVZlcnNpb24iOjF9.hrVRgjCwXVvE2OOSpDZ58hR+59aFNwYDyjQgKk3auukd7pcegmE2CzPCa0bJ0ZsRAcKkCTJrWo5iDzNhMBWRyaMOv5zWSrthlf7G128qvIlpMT0YNY+n/FaOHE73uLrS/g7swl3/qH/BGFG2Hu4RlL48eb3lLKqTt2xKHdCs6Cd4RMfJPYnzgvI4BNrFUKsjkcu+WD4OO2A27Pq1n50cMchmcaXadJhGrOqH5YmHdOCj5NSHzJYrsW0HPlpuAx/ECMeIZYDh6RMqaFM2DXzdKX9NmmyqzJ3o/0lkk/N97gfVRLW5hA29yeAwaCViZNCP8iC9aO0q9fQojoa7NQnAtw==\"}]}}}"
   },
   "persistedvariables":{
      "ClientKey":""
   },
   "listeners" : {
      "WebOSListener" : {"type":"webSocket", "command":{"connection":"ws://192.168.1.69:3000", "message": "message"}, "queryresult" : "",          
         "evalwrite":[
            {"variable":"AsyncMessage","value":"DYNAMIK  (\"$Result\")"},
            {"variable":"VolumePlayed","value":"DYNAMIK (JSON.parse(\"$Result\").type  == \"response\") && (JSON.parse(\"$Result\").payload[\"volume\"] != undefined)?JSON.parse(\"$Result\").payload[\"volume\"]:$VolumePlayed"},
            {"variable":"AsyncId","value":"DYNAMIK $AsyncId + 1"}
         ],
         "evaldo":[ 
                  {"test":"DYNAMIK (JSON.parse(\"$Result\").type  == \"registered\") && (JSON.parse(\"$Result\").id  == \"register_0\")", "then":"__REGISTER", "or":""},
                  {"test":"DYNAMIK if (JSON.parse(\"{\\\"type\\\":\\\"error\\\",\\\"id\\\":\\\"volumedown_1\\\",\\\"error\\\":\\\"401 insufficient permissions (not registered)\\\",\\\"payload\\\":{}}\").type  == \"error\") {(JSON.parse(\"{\\\"type\\\":\\\"error\\\",\\\"id\\\":\\\"volumedown_1\\\",\\\"error\\\":\\\"401 insufficient permissions (not registered)\\\",\\\"payload\\\":{}}\").error.startsWith(\"401\"))?true:false} else {false}", "then":"__PREREGISTER", "or":""}
                ]
      }
   },
   "sliders": {
      "VOLUME": {
        "label": "",
        "unit": "db",
        "listen": "VolumePlayed",
        "evaldo": [
          {
            "test": true,
            "then": "__VOLUMESET",
            "or": ""
          }
        ]
      }
   },
   "buttons":{          

      "__INITIALISE": {"label": "", "type":"static", "command":"."
         },
         "__VOLUME": {"label": "", "type":"static", "command":"."
         },

      "POWER ON":  
         {"label":"",                                 
            "type":"http-rest",
            "command":"{\"verb\":\"post\",\"call\":\"HTTP://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"\",\"method\":\"GUI.ShowNotification\", \"params\":{\"title\": \"NEEO-Metadriver\",\"message\": \"NEEO-connection active\",\"displaytime\":5000}}}",
            "evaldo":[{"test":true,"then":"__GetPlayerID", "or":""},
               {"test":true, "then":"__INITIALISE", "or":""}
            ]   
         },
      "POWER OFF":  
      {"label":"",                                 
         "type":"static",
         "command":"",
         "evaldo":[
            {"test":"DYNAMIK $ShutdownMenu==true","then":"__MenuShutdown", "or":"__Shutdown"},                
            {"test":true,"then":"__CLEANUP", "or":""}
         ]
      },
      "__REGISTER":
      {"label":"",
         "type":"webSocket",
         "command":"DYNAMIK JSON.parse(\"{\\\"connection\\\": \\\"ws://192.168.1.69:3000\\\", \\\"message\\\":{\\\"type\\\":\\\"register\\\",\\\"id\\\":\\\"register_$AsyncId\\\",\\\"payload\\\":{\\\"forcePairing\\\":false,\\\"pairingType\\\":\\\"PROMPT\\\",\\\"client-key\\\":\\\"\" + JSON.parse(JSON.stringify($AsyncMessage)).payload[\"client-key\"] + \"\\\",\\\"manifest\\\":{\\\"manifestVersion\\\":1,\\\"appVersion\\\":\\\"1.1\\\",\\\"signed\\\":{\\\"created\\\":\\\"20140509\\\",\\\"appId\\\":\\\"com.lge.test\\\",\\\"vendorId\\\":\\\"com.lge\\\",\\\"localizedAppNames\\\":{\\\"\\\":\\\"LG Remote App\\\",\\\"ko-KR\\\":\\\"리모컨 앱\\\",\\\"zxx-XX\\\":\\\"ЛГ Rэмotэ AПП\\\"},\\\"localizedVendorNames\\\":{\\\"\\\":\\\"LG Electronics\\\"},\\\"permissions\\\":[\\\"TEST_SECURE\\\",\\\"CONTROL_INPUT_TEXT\\\",\\\"CONTROL_MOUSE_AND_KEYBOARD\\\",\\\"READ_INSTALLED_APPS\\\",\\\"READ_LGE_SDX\\\",\\\"READ_NOTIFICATIONS\\\",\\\"SEARCH\\\",\\\"WRITE_SETTINGS\\\",\\\"WRITE_NOTIFICATION_ALERT\\\",\\\"CONTROL_POWER\\\",\\\"READ_CURRENT_CHANNEL\\\",\\\"READ_RUNNING_APPS\\\",\\\"READ_UPDATE_INFO\\\",\\\"UPDATE_FROM_REMOTE_APP\\\",\\\"READ_LGE_TV_INPUT_EVENTS\\\",\\\"READ_TV_CURRENT_TIME\\\"],\\\"serial\\\":\\\"2f930e2d2cfe083771f68e4fe7bb07\\\"},\\\"permissions\\\":[\\\"LAUNCH\\\",\\\"LAUNCH_WEBAPP\\\",\\\"APP_TO_APP\\\",\\\"CLOSE\\\",\\\"TEST_OPEN\\\",\\\"TEST_PROTECTED\\\",\\\"CONTROL_AUDIO\\\",\\\"CONTROL_DISPLAY\\\",\\\"CONTROL_INPUT_JOYSTICK\\\",\\\"CONTROL_INPUT_MEDIA_RECORDING\\\",\\\"CONTROL_INPUT_MEDIA_PLAYBACK\\\",\\\"CONTROL_INPUT_TV\\\",\\\"CONTROL_POWER\\\",\\\"READ_APP_STATUS\\\",\\\"READ_CURRENT_CHANNEL\\\",\\\"READ_INPUT_DEVICE_LIST\\\",\\\"READ_NETWORK_STATE\\\",\\\"READ_RUNNING_APPS\\\",\\\"READ_TV_CHANNEL_LIST\\\",\\\"WRITE_NOTIFICATION_TOAST\\\",\\\"READ_POWER_STATE\\\",\\\"READ_COUNTRY_INFO\\\"],\\\"signatures\\\":[{\\\"signatureVersion\\\":1,\\\"signature\\\":\\\"eyJhbGdvcml0aG0iOiJSU0EtU0hBMjU2Iiwia2V5SWQiOiJ0ZXN0LXNpZ25pbmctY2VydCIsInNpZ25hdHVyZVZlcnNpb24iOjF9.hrVRgjCwXVvE2OOSpDZ58hR+59aFNwYDyjQgKk3auukd7pcegmE2CzPCa0bJ0ZsRAcKkCTJrWo5iDzNhMBWRyaMOv5zWSrthlf7G128qvIlpMT0YNY+n/FaOHE73uLrS/g7swl3/qH/BGFG2Hu4RlL48eb3lLKqTt2xKHdCs6Cd4RMfJPYnzgvI4BNrFUKsjkcu+WD4OO2A27Pq1n50cMchmcaXadJhGrOqH5YmHdOCj5NSHzJYrsW0HPlpuAx/ECMeIZYDh6RMqaFM2DXzdKX9NmmyqzJ3o/0lkk/N97gfVRLW5hA29yeAwaCViZNCP8iC9aO0q9fQojoa7NQnAtw==\\\"}]}}}}\")",
           "evalwrite":[
               {"variable":"ClientKey","value":"DYNAMIK JSON.parse(JSON.stringify($AsyncMessage)).payload[\"client-key\"]"}
           ]
        },
      "VOLUME UP":
      {"label":"",
         "type":"webSocket",
         "command":"DYNAMIK JSON.parse(\"{\\\"connection\\\": \\\"ws://192.168.1.69:3000\\\", \\\"message\\\":{\\\"type\\\":\\\"request\\\",\\\"id\\\":\\\"volumeup_\" + \"$AsyncId\" +\"\\\",\\\"uri\\\":\\\"ssap://audio/volumeUp\\\"}}\")",
            "evalwrite":[
               {"variable":"AsyncId","value":"DYNAMIK  ($AsyncId + 1)"}
            ]
      },
      "VOLUME DOWN":
      {"label":"",
         "type":"webSocket",
         "command":"DYNAMIK JSON.parse(\"{\\\"connection\\\": \\\"ws://192.168.1.69:3000\\\", \\\"message\\\":{\\\"type\\\":\\\"request\\\",\\\"id\\\":\\\"volumedown_\" + \"$AsyncId\" +\"\\\",\\\"uri\\\":\\\"ssap://audio/volumeDown\\\"}}\")",
            "evalwrite":[
               {"variable":"AsyncId","value":"DYNAMIK  ($AsyncId + 1)"}
            ]
      },
      "__PREREGISTER":
         {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://192.168.1.69:3000\", \"message\":$HandShake}"
      },

"CURSOR LEFT":
   {"label":"",
      "type":"static",
      "command":"",
      "evalwrite":[{"variable":"CheckWindow_ID","value":"$Fullscreen_ID"},
         {"variable":"CURSOR","value":"Left"},
         {"variable":"PlayerSeek","value":"smallbackward"},
         {"variable":"ReturnMenu","value":"__Nav_Playing"}
      ],  
      "evaldo":[{"test":"$PlayerID","then":"__CheckMenu", "or":"__Nav_Menu"}]   
   },
"CURSOR DOWN":
   {"label":"",
      "type":"static",
      "command":"",
      "evalwrite":[{"variable":"CheckWindow_ID","value":"$Fullscreen_ID"},
         {"variable":"CURSOR","value":"Down"},
         {"variable":"PlayerSeek","value":"bigforward"},
         {"variable":"ReturnMenu","value":"__Nav_Playing"}               
      ],  
      "evaldo":[{"test":"$PlayerID","then":"__CheckMenu", "or":"__Nav_Menu"}]   
   },
"CURSOR UP":
{"label":"",
   "type":"static",
   "command":"",
   "evalwrite":[{"variable":"CheckWindow_ID","value":"$Fullscreen_ID"},
      {"variable":"CURSOR","value":"Up"},
      {"variable":"PlayerSeek","value":"bigbackward"},
      {"variable":"ReturnMenu","value":"__Nav_Playing"}            
   ],  
   "evaldo":[{"test":"$PlayerID","then":"__CheckMenu", "or":"__Nav_Menu"}]   
},
"CURSOR RIGHT":
{"label":"",
   "type":"static",
   "command":"",
   "evalwrite":[{"variable":"CheckWindow_ID","value":"$Fullscreen_ID"},
      {"variable":"CURSOR","value":"Right"},
      {"variable":"PlayerSeek","value":"smallforward"},
      {"variable":"ReturnMenu","value":"__Nav_Playing"}            
   ],  
   "evaldo":[{"test":"$PlayerID","then":"__CheckMenu", "or":"__Nav_Menu"}]   
},
"CURSOR ENTER":
{"label":"",
   "type":"static",
   "command":"",
   "evalwrite":[{"variable":"CheckWindow_ID","value":"$Fullscreen_ID"},
      {"variable":"CURSOR","value":"Select"},
      {"variable":"PlayerSeek","value":"N/A"},
      {"variable":"ReturnMenu","value":"__Nav_Playing_Enter"}
   ],  
   "evaldo":[{"test":"$PlayerID","then":"__CheckMenu", "or":"__Nav_Menu"}]   
},         
 
"MUTE TOGGLE":
   {"label":"",
      "type":"webSocket",
      "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Application.SetMute\",\"id\":\"\"}}"           
}   
},      "directories":
      {
      "Collection":{"label":"TVShows",
         "feeders":{
            "TVShows":{"label":"TVShow list",
               "commandset":[
                  {
                     "type":"static",
                     "command":"",
                     "itemtype":"tile",
                     "itemaction":""
                  },
                  {
                     "type":"http-get",			
                     "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetTVShows\",\"id\":\"TV\",\"params\":{$WatchFilter\"properties\":[\"title\",\"thumbnail\",\"playcount\"],\"sort\":{\"order\":\"ascending\",\"method\":\"title\",\"ignorearticle\": true }}}",
                     "queryresult":"$.result.tvshows.*",
                     "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemname":"DYNAMIK JSON.parse(\"$Result\").label",                        
                     "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/checkmark.jpg\":(\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb%3a\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"HTTP://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/tvshow.jpg\"",
                     "evalwrite":[{"variable":"TVShowTitle","value":"DYNAMIK JSON.parse(\"$Result\").title"},
                        {"variable":"TVShowid","value":"DYNAMIK JSON.parse(\"$Result\").tvshowid"}, 
                        {"variable":"TVShowBanner","value":"DYNAMIK (JSON.parse(\"$Result\").thumbnail.includes(\"smb\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image:\/\/\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"HTTP://$MyKODIIp:$MyKODIPort/vfs\/\").slice(0, -1):\"\""}],
                        "evalnext":[
                        {
                           "test":true,
                           "then":"TVSeasons",
                           "or":""
                        } 
                     ]}  
                  ]},
            "TVSeasons":{
               "label":"TVShow seasons",
               "commandset":[
                  {  
                     "type":"static",
                     "command":"",
                     "itemtype":"tile",
                     "itemaction":""                      
                  },
                  {
                     "type":"http-get",
                     "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetSeasons\",\"id\":\"TV\",\"params\":{\"tvshowid\":$TVShowid,\"properties\": [\"thumbnail\",\"playcount\",\"tvshowid\", \"season\", \"showtitle\"],\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true }}}",
                     "queryresult":"$.result.seasons.*",
                     "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/checkmark.jpg\":(\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb%3a\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"HTTP://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/tvshow.jpg\"",
                     "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label","itemname":"DYNAMIK JSON.parse(\"$Result\").label","itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                     "evalwrite":[
                                  {"variable":"SeasonName","value":"DYNAMIK JSON.parse(\"$Result\").label"},{"variable":"Seasonid","value":"DYNAMIK JSON.parse(\"$Result\").season"}],
                     "evalnext":[
                        {
                           "test":true,                                          
                           "then":"TVShowEpisodes",
                           "or":""
                        }
                     ]}
                  ]},
            "TVShowEpisodes":{
               "label":"TVShow episodes",
               "commandset":[
                  {
                     "type":"static",
                     "command":"",
                     "itemtype":"tile",
                     "itemaction":""
                  },
                  {"type":"http-get",
                     "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetEpisodes\",\"id\":\"TV\",\"params\":{\"tvshowid\":$TVShowid,\"filter\": { \"operator\": \"is\", \"field\":  \"season\", \"value\": \"$Seasonid\"} ,\"properties\":[\"title\",\"thumbnail\",\"playcount\"],\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true }}}",
                     "queryresult":"$.result.episodes.*",
                     "itemaction":"TVShowPlay",
                     "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label","itemname":"DYNAMIK JSON.parse(\"$Result\").label","itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/checkmark.jpg\":(\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb%3a\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"HTTP://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/tvshow.jpg\"",
                     "evalwrite":[{"variable":"EpisodeName","value":"DYNAMIK JSON.parse(\"$Result\").label"},{"variable":"Episodeid","value":"DYNAMIK JSON.parse(\"$Result\").episodeid"}]
                  }
               ]},
            "TVShowPlay":{   
               "label":"Play episode",
               "commandset":[
                  {
                     "type":"http-rest",
                     "command":"{\"verb\":\"post\",\"call\":\"$KODIREQ\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"TVP\",\"params\":{\"item\":  {\"episodeid\":$Episodeid}}}}"
                  } 
               ]}
            }
         },
         "EpisodesRecentAdded":  {"label":"EpisodesRecentAdded",
            "feeders":{
               "Movies":{
                  "label":"RecentEpisode list",
                  "commandset":[
                  {
                     "type":"static",
                     "command":"",
                     "itemtype":"tile",
                     "itemaction":""
                  },
                  {
                     "type":"http-get",			
                     "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetRecentlyAddedEpisodes\",\"id\":\"RecentEpisode\",\"params\":{\"properties\":[\"title\",\"playcount\",\"thumbnail\",\"showtitle\"]}}",
                     "queryresult":"$.result.episodes.*",
                     "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemname":"DYNAMIK JSON.parse(\"$Result\").showtitle",
                     "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/checkmark.jpg\":(\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb%3a\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"HTTP://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/tvshow.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg\"",
                     "itemaction":"RecentEpisodePlay",
                     "evalwrite":[{"variable":"EpisodeName","value":"DYNAMIK JSON.parse(\"$Result\").label"},
                                  {"variable":"Episodeid","value":"DYNAMIK JSON.parse(\"$Result\").episodeid"}, 
                                  {"variable":"TVShowBanner","value": "DYNAMIK (JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):\"\""}]
                  }  
               ]}, 
         "RecentEpisodePlay":{   
               "label":"Play Episode",
               "commandset":[
                  {
                     "type":"http-rest",
                     "command":"{\"verb\":\"post\",\"call\":\"$KODIREQ\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"TVP\",\"params\":{\"item\":  {\"episodeid\":$Episodeid}}}}"
                  }                   ]}
                }
         },         
         "Movies":  {"label":"Movies",
         "feeders":{
           "Movies":{
            "label":"Movie list",
            "commandset":[
               {
                  "type":"static",
                  "command":"",
                  "itemtype":"tile",
                  "itemaction":""
               },
               {
                  "type":"http-get",			
                  "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetMovies\",\"id\":\"movie\",\"params\":{\"properties\":[\"title\",\"playcount\",\"thumbnail\"],\"sort\":{\"order\":\"ascending\",\"method\":\"title\",\"ignorearticle\": true }}}",
                  "queryresult":"$.result.movies.*",
                  "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label",
                  "itemname":"DYNAMIK JSON.parse(\"$Result\").label",
                  "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                  "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/checkmark.jpg\":(\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb%3a\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"HTTP://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg\"",
                  "itemaction":"MoviePlay",
                  "evalwrite":[{"variable":"MovieTitle","value":"DYNAMIK JSON.parse(\"$Result\").title"},
                               {"variable":"Movieid","value":"DYNAMIK JSON.parse(\"$Result\").movieid"}, 
                               {"variable":"MovieBanner","value": "DYNAMIK (JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):\"\""}]
               }  
            ]},
               
         "MoviePlay":{   
            "label":"Play movie",
            "commandset":[
               {
                  "type":"http-rest",
                  "command":"{\"verb\":\"post\",\"call\":\"$KODIREQ\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"MOVIEP\",\"params\":{\"item\":  {\"movieid\":$Movieid}}}}"
               } 
            ]}
             }
      },
      "MoviesRecentAdded":  {"label":"MoviesRecentAdded",
         "feeders":{
            "Movies":{
               "label":"RecentMovie list",
               "commandset":[
                  {
                     "type":"static",
                     "command":"",
                     "itemtype":"tile",
                     "itemaction":""
                  },
                  {
                     "type":"http-get",			
                     "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetRecentlyAddedMovies\",\"id\":\"movie\",\"params\":{\"properties\":[\"title\",\"playcount\",\"thumbnail\"],\"sort\":{\"order\":\"ascending\",\"method\":\"title\",\"ignorearticle\": true }}}",
                     "queryresult":"$.result.movies.*",
                     "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemname":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/checkmark.jpg\":(\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb%3a\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"HTTP://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg\"",
                     "itemaction":"RecentMoviePlay",
                     "evalwrite":[{"variable":"MovieTitle","value":"DYNAMIK JSON.parse(\"$Result\").title"},
                                  {"variable":"Movieid","value":"DYNAMIK JSON.parse(\"$Result\").movieid"}, 
                                  {"variable":"MovieBanner","value": "DYNAMIK (JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):\"\""}]
                  }  
               ]},
                  
         "RecentMoviePlay":{   
               "label":"Play movie",
               "commandset":[
                  {
                     "type":"http-rest",
                     "command":"{\"verb\":\"post\",\"call\":\"$KODIREQ\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"MOVIEP\",\"params\":{\"item\":  {\"movieid\":$Movieid}}}}"
                  } 
               ]}
                }
         },         
      "MovieSets":  {"label":"MovieSets",
         "feeders":{
            "MovieSets":{
               "label":"Movie Sets",
               "commandset":[
                  {
                     "type":"static",
                     "command":"",
                     "itemtype":"tile",
                     "itemaction":""
                  },
                  {
                     "type":"http-get",			
                     "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetMovieSets\",\"id\":\"movie\",\"params\":{\"properties\":[\"title\",\"playcount\",\"thumbnail\"],\"sort\":{\"order\":\"ascending\",\"method\":\"title\",\"ignorearticle\": true}}}",
                     "queryresult":"$.result.sets.*",
                     "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label","itemname":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemimage":"DYNAMIK (\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb%3a\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"HTTP://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg\"",
                     "evalwrite":[{"variable":"SetTitle","value":"DYNAMIK JSON.parse(\"$Result\").title"},
                                  {"variable":"Setid","value":"DYNAMIK JSON.parse(\"$Result\").setid"},
                                  {"variable":"MovieBanner","value":"DYNAMIK (\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb%3a\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"HTTP://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg\""}],
                     "evalnext":[
                        {
                           "test":true,
                           "then":"MovieSetDetails",
                           "or":""
                        } 
                     ]}  
                  ]},
            "MovieSetDetails":{
               "label":"Movieset entries",
               "commandset":[
                  {
                     "type":"static",
                     "command":"",
                     "itemtype":"tile",
                     "itemaction":"",
                     "itemimage":"$MovieBanner"
                  },
                  {"type":"http-get",
                     "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetMovieSetDetails\",\"id\":\"MVS\",\"params\":{\"setid\":$Setid,\"properties\": [\"thumbnail\",\"playcount\"]}}",
                     "queryresult":"$.result.setdetails.movies.*",
                     "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label","itemname":"DYNAMIK JSON.parse(\"$Result\").label","itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemimage":"$MovieBanner",
                     "itemaction":"MoviePlaySet",                        
                     "evalwrite":[{"variable":"MovieTitle","value":"DYNAMIK JSON.parse(\"$Result\").label"},{"variable":"Movieid","value":"DYNAMIK JSON.parse(\"$Result\").movieid"}]
                  }
            ]},
            "MoviePlaySet":{   
               "label":"Play episode",
               "commandset":[
                  {
                     "type":"http-rest",
                     "command":"{\"verb\":\"post\",\"call\":\"$KODIREQ\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"TVP\",\"params\":{\"item\":  {\"movieid\":$Movieid}}}}"
                  } 
               ]}               
         }
      },
      "VideoSources":  {"label":"VideoSources",
               "feeders":{
                  "VideoSources":{
                     "label":"VideoSources",
                     "commandset":[
                        {
                           "type":"static",
                           "command":"",
                           "itemtype":"tile",
                           "itemimage":"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg",                        
                           "itemaction":""
                        },
                        {
                           "type":"http-get",			
                           "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"Files.GetSources\",\"id\":\"VS\",\"params\": {\"media\": \"video\",\"sort\":{\"order\":\"ascending\",\"method\":\"title\",\"ignorearticle\": true}}}",
                           "queryresult":"$.result.sources.*",
                           "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                           "itemname":"DYNAMIK JSON.parse(\"$Result\").file",
                           "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                           "itemimage":"https://raw.githubusercontent.com/jac459/meta-kodi/main/Icons/movie.jpg",
                           "evalwrite":[{"variable":"Source","value":"DYNAMIK JSON.parse(\"$Result\").label"},
                                        {"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},                                 
                                        {"variable":"VideoRootFile","value":"DYNAMIK JSON.parse(\"$Result\").file"}],
                           "evalnext":[
                              {
                                 "test":true,
                                 "then":"VideoDirectory",
                                 "or":""
                              } 
                           ]}  
                        ]}, 
                  "VideoDirectory":{
                     "label":"VideoDirectory files",
                     "commandset":[
                        {
                           "type":"static",
                           "command":"",
                           "itemtype":"tile",
                           "itemaction":""
                        },
                        {
                           "type":"http-get",
                           "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"Files.GetDirectory\",\"id\":\"VS2\",\"params\":{\"directory\":\"$VideoFile\",\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true}}}",
                           "queryresult":"$.result.files.*",
                           "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                           "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label.length > 28)?JSON.parse(\"$Result\").label.slice(28,99):\"\"",
                           "itemname":"DYNAMIK JSON.parse(\"$Result\").label.slice(0,28)",
                           "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/checkmark.jpg\":(JSON.parse(\"$Result\").filetype == \"directory\")?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/Folder.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/File.jpg\"",

                           "evalwrite":[{"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},
                                       {"variable":"VideoDirectory2","value":"DYNAMIK JSON.parse(\"$Result\").file"},                               
                                       {"variable":"VideoFileType","value":"DYNAMIK JSON.parse(\"$Result\").filetype"}],
                           "evalnext":[
                              {
                                 "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"directory\")",      
                                 "then":"VideoDirectory2"
                              },
                              {
                                 "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"file\")",      
                                 "then":"VideoFilesPlay"
                              }                                 
                           ]}
                        ]},      
                  "VideoDirectory2":{
                           "label":"VideoDirectory files",
                           "commandset":[
                              {
                                 "type":"static",
                                 "command":"",
                                 "itemtype":"tile",
                                 "itemaction":""
                              },
                              {
                                 "type":"http-get",
                                 "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"Files.GetDirectory\",\"id\":\"VS2\",\"params\":{\"directory\":\"$VideoDirectory2\",\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true}}}",
                                 "queryresult":"$.result.files.*",
                                 "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                                 "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label.length > 28)?JSON.parse(\"$Result\").label.slice(28,99):\"\"",
                                 "itemname":"DYNAMIK JSON.parse(\"$Result\").label.slice(0,28)",
                                 "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/checkmark.jpg\":(JSON.parse(\"$Result\").filetype == \"directory\")?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/Folder.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/File.jpg\"",
                                 "evalwrite":[{"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},    
                                             {"variable":"VideoDirectory3","value":"DYNAMIK JSON.parse(\"$Result\").file"},                                                                            
                                             {"variable":"VideoFileType","value":"DYNAMIK JSON.parse(\"$Result\").filetype"}],
                                 "evalnext":[
                                    {
                                       "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"directory\")",      
                                       "then":"VideoDirectory3"
                                    },
                                    {
                                       "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"file\")",      
                                       "then":"VideoFilesPlay"
                                    }  
                                 ]}
                              ]}, 
                  "VideoDirectory3":{
                     "label":"VideoDirectory files",
                     "commandset":[
                        {
                           "type":"static",
                           "command":"",
                           "itemtype":"tile",
                           "itemaction":""
                        },
                        {
                           "type":"http-get",
                           "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"Files.GetDirectory\",\"id\":\"VS3\",\"params\":{\"directory\":\"$VideoDirectory3\",\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true}}}",
                           "queryresult":"$.result.files.*",
                           "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                           "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label.length > 28)?JSON.parse(\"$Result\").label.slice(28,99):\"\"",
                           "itemname":"DYNAMIK JSON.parse(\"$Result\").label.slice(0,28)",
                            "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/checkmark.jpg\":(JSON.parse(\"$Result\").filetype == \"directory\")?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/Folder.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/File.jpg\"",
                           "evalwrite":[{"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},    
                                       {"variable":"VideoDirectory4","value":"DYNAMIK JSON.parse(\"$Result\").file"},                                                                            
                                       {"variable":"VideoFileType","value":"DYNAMIK JSON.parse(\"$Result\").filetype"}],
                           "evalnext":[
                              {
                                 "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"directory\")",      
                                 "then":"VideoDirectory4"
                              },
                              {
                                 "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"file\")",      
                                 "then":"VideoFilesPlay"
                              }  
                           ]}
                     ]},
                  "VideoDirectory4":{
                     "label":"VideoDirectory files",
                     "commandset":[
                        {
                           "type":"static",
                           "command":"",
                           "itemtype":"tile",
                           "itemaction":""
                        },
                   {

                  "type":"http-get",
                  "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"Files.GetDirectory\",\"id\":\"VS4\",\"params\":{\"directory\":\"$VideoDirectory4\",\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true}}}",                        "queryresult":"$.result.files.*",
                  "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                  "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label.length > 28)?JSON.parse(\"$Result\").label.slice(28,99):\"\"",
                  "itemname":"DYNAMIK JSON.parse(\"$Result\").label.slice(0,28)",
                  "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/checkmark.jpg\":(JSON.parse(\"$Result\").filetype == \"directory\")?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/Folder.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/File.jpg\"",
                  "evalwrite":[{"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},    
                              {"variable":"VideoDirectory5","value":"DYNAMIK JSON.parse(\"$Result\").file"},                                                                            
                              {"variable":"VideoFileType","value":"DYNAMIK JSON.parse(\"$Result\").filetype"}],
                  "evalnext":[
                     {
                        "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"directory\")",      
                        "then":"VideoDirectory5"
                     },
                     {
                        "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"file\")",      
                        "then":"VideoFilesPlay"
                     }  
                  ]}
            ]},  
                  "VideoDirectory5":{
                     "label":"VideoDirectory files",
                     "commandset":[
                        {
                           "type":"static",
                           "command":"",
                              "itemtype":"tile",
                           "itemaction":""
                        },
                        {
                           "type":"http-get",
                           "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"Files.GetDirectory\",\"id\":\"VS5\",\"params\":{\"directory\":\"$VideoDirectory5\",\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true}}}",
                           "queryresult":"$.result.files.*",
                           "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                           "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label.length > 28)?JSON.parse(\"$Result\").label.slice(28,99):\"\"",
                           "itemname":"DYNAMIK JSON.parse(\"$Result\").label.slice(0,28)",
                            "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/checkmark.jpg\":(JSON.parse(\"$Result\").filetype == \"directory\")?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/Folder.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/File.jpg\"",
                           "evalwrite":[{"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},    
                                       {"variable":"VideoDirectory6","value":"DYNAMIK JSON.parse(\"$Result\").file"},                                                                            
                                       {"variable":"VideoFileType","value":"DYNAMIK JSON.parse(\"$Result\").filetype"}],
                           "evalnext":[
                              {
                                 "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"directory\")",      
                                 "then":"VideoDirectory6"
                              },
                              {
                                 "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"file\")",      
                                 "then":"VideoFilesPlay"
                              }  
                        ]}
               ]},   
               "VideoDirectory6":{
                  "label":"VideoDirectory files",
                  "commandset":[
                     {
                        "type":"static",
                        "command":"",
                        "itemtype":"tile",
                        "itemaction":""
                     },
                     {
                        "type":"http-get",
                        "command":"$KODIREQ{\"jsonrpc\":\"2.0\",\"method\":\"Files.GetDirectory\",\"id\":\"VS6\",\"params\":{\"directory\":\"$VideoDirectory6\",\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true}}}",
                        "queryresult":"$.result.files.*",
                        "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                        "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label.length > 28)?JSON.parse(\"$Result\").label.slice(28,99):\"\"",
                        "itemname":"DYNAMIK JSON.parse(\"$Result\").label.slice(0,28)",
                         "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/checkmark.jpg\":(JSON.parse(\"$Result\").filetype == \"directory\")?\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/Folder.jpg\":\"https://raw.githubusercontent.com/jac459/meta-kodi/master/Icons/File.jpg\"",
                        "evalwrite":[{"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},    
                                    {"variable":"VideoDirectory6","value":"DYNAMIK JSON.parse(\"$Result\").file"},                                                                            
                                    {"variable":"VideoFileType","value":"DYNAMIK JSON.parse(\"$Result\").filetype"}],
                        "evalnext":[
                           {
                              "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"directory\")",      
                              "then":"VideoDirectory6"
                           },
                           {
                              "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"file\")",      
                              "then":"VideoFilesPlay"
                           }  
                        ]}
                  ]},                                                                                                                                                                                                                                    
            "VideoFilesPlay":{   
               "label":"Play video file",
               "commandset":[
                  {
                     "type":"http-rest", 
                     "command":"{\"verb\":\"post\",\"call\":\"$KODIREQ\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"VPlay\",\"params\":{\"item\":  {\"file\":\"$VideoFile\"}}}}"
                  } 
               ]}
            }
         }
   }
}   
} 