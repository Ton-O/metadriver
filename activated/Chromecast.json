{ "name":"Chromecast",
  "manufacturer":"Google",
  "type":"Audio",
  "version":14,
  "variables":{
    "IsRegistered":false,
    "RegistrationCode":""
  },
  "persistedvariables":{
    "ChromecastNames":[]
  },
  "register":{
    "registertype": "SECURITY_CODE",
    "registerheadertext": "Chromecast",
    "registerdescription": "Please provide a (unique) name for your device.",
    "registrationcommand":{"type":"static", "command":"$RegistrationCode", "queryresult":"", "evalwrite":[
      {"variable":"ChromecastNames","value":"DYNAMIK var chro = []; if ($ChromecastNames != undefined) {chro = $ChromecastNames}; if (\"$Result\".length>0 && chro.findIndex((element) => {return element.toString() == \"$Result\"})<0) {chro.push(\"$Result\")}; chro"}, 
      {"variable":"IsRegistered","value":false}
      ]
    }
  },
  "discover":{
    "welcomeheadertext":"Chromecast Driver",
    "welcomedescription":"powered by meta\nby JAC459",
    "command":{"type":"static", "command":"DYNAMIK $ChromecastNames"}
  },
  "template" : {
    "name":"Chromecast", 
    "dynamicname":"DYNAMIK_INST_START $Result DYNAMIK_INST_END",
    "dynamicid":"DYNAMIK_INST_START $Result DYNAMIK_INST_END",
    "manufacturer":"Google",
    "version":14,
    "type":"Audio",
    "variables":{
      "ChromecastName":"DYNAMIK_INST_START $ChromecastName DYNAMIK_INST_END",
      "Status":"Ready",
      "MusicURI": "",
      "Seek": "",
      "Mute":"",
      "VolumePlayed":""
    },
    "sliders":{
      "VOLUME": {"label":"Volume", "unit" : "db", "listen" : "VolumePlayed"}
    },
    "buttons":{
      "VOLUME UP": {"label":"", "type":"static", "command":"", "evalwrite":[{"variable":"VolumePlayed","value":"DYNAMIK (Number($VolumePlayed)<95)?Number($VolumePlayed)+5:100"}]},
      "VOLUME DOWN": {"label":"", "type":"static", "command":"", "evalwrite":[{"variable":"VolumePlayed","value":"DYNAMIK (Number($VolumePlayed)>5)?Number($VolumePlayed)-5:0"}]}
     },
    "labels":{  
      "Status" : {"label":" ", "listen":"Status"}
    }
  }
}